# NAS 重命名工具 (NAS Renamer)

@author weifengl

这是一个简单的 Web 端 NAS 文件批量重命名工具，旨在帮助用户快速清理和整理 NAS 中的文件（如电影、电视剧、动漫等）。它提供了直观的界面来预览更改，并支持撤销操作。

## 功能特性

- 📂 **文件浏览**：支持在 NAS 根目录下浏览文件夹和文件。
- 🔍 **重命名预览**：在执行重命名之前，可以清晰地看到即将发生的更改，避免误操作。
- ⚡ **批量处理**：一键执行多个文件的重命名操作。
- 🕰️ **历史管理**：自动保存重命名历史，支持按批次撤销修改。
- 📊 **高频词分析**：自动扫描并发现文件名中的高频字符串，帮助快速定位广告词或多余的标签。
- ⚙️ **扩展名忽略**：支持配置忽略特定的文件扩展名（如 `.db`, `.nfo` 等）。
- 🔒 **安全保护**：通过环境变量设置访问密码，防止未经授权的访问；内置路径穿越保护。

## 快速入门

### 环境配置

项目依赖以下环境变量：

| 变量名 | 说明 | 默认值 |
| :--- | :--- | :--- |
| `APP_PASSWORD` | Web 界面登录密码 (必须设置) | (无) |
| `NAS_ROOT` | NAS 文件扫描的根目录 | `.` |
| `PORT` | 服务运行端口 | `8080` |
| `STATIC_DIR` | 静态资源目录 (HTML/JS/CSS) | `./static` |

### 本地直接运行

# 在 Windows PowerShell 中：
$env:APP_PASSWORD="YourPassword"; $env:NAS_ROOT="C:\path\to\nas"; go run ./cmd/server

### 本地编译运行

1. **克隆并进入项目目录**
2. **编译二进制文件**
   ```powershell
   go build -o nas-renamer ./cmd/server
   ```
3. **运行程序** (以 Windows PowerShell 为例)
   ```powershell
   $env:APP_PASSWORD="YourSecretPassword"; $env:NAS_ROOT="D:\Videos"; .\nas-renamer
   ```
4. **访问**
   在浏览器中打开 `http://localhost:8080`。

### 使用 Docker 部署

项目包含 `Dockerfile`，支持容器化部署。

1. **构建镜像** (确保已预先编译为 Linux 二进制文件)
   ```powershell
   # 交叉编译
   $env:GOOS="linux"; $env:GOARCH="amd64"; go build -o nas-renamer ./cmd/server
   # 构建 Docker 镜像
   docker build -t nas-renamer .
   ```
2. **启动容器**
   ```bash
   docker run -d \
     -p 8080:8080 \
     -e APP_PASSWORD="your_password" \
     -v /path/to/your/nas:/data \
     nas-renamer
   ```

## 开发计划

- [ ] 支持正则表达式批量替换。
- [ ] 增加更多自动化的命名模板。
- [ ] 支持在线解压/压缩功能。

---
Generated by Antigravity
